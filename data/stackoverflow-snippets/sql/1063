SELECT FILM.NAZEV, FILM.VYDANI, FILM.DELKA, FILM.CENA
     , LISTAGG(OSOBA.JMENO, ',') WITHIN GROUP ( ORDER BY OSOBA.JMENO )
  FROM FILM
  LEFT JOIN FILM_PRODUKCE
    ON FILM_PRODUKCE.FILM_ID_FILM = FILM.ID_FILM
  LEFT JOIN PRODUKCE
    ON PRODUKCE.ID_PRODUKCE = FILM_PRODUKCE.ID_FILM_PRODUKCE
  LEFT JOIN ZASTOUPENI
    ON ZASTOUPENI.ID_ZASTOUPENI = PRODUKCE.ID_PRODUKCE
  LEFT JOIN OSOBA
    ON ZASTOUPENI.OSOBA_ID_OSOBA = OSOBA.ID_OSOBA
 WHERE EXISTS ( SELECT 1 FROM FILM_PRODEJNA
                 WHERE FILM_PRODEJNA.FILM_ID_FILM = FILM.ID_FILM )
 GROUP BY FILM.NAZEV, FILM.VYDANI, FILM.DELKA, FILM.CENA;
