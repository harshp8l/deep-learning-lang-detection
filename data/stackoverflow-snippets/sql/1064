SELECT FILM.NAZEV, 
   FILM.VYDANI, 
   FILM.DELKA, 
   FILM.CENA, 
   LISTAGG(film.JMENO, ',') 
      WITHIN GROUP (ORDER BY film.JMENO) 
AS Produkce
    FROM (select distinct FILM.NAZEV, 
       FILM.VYDANI, 
       FILM.DELKA, 
       FILM.CENA,
       OSOBA.JMENO
 From  FILM_PRODEJNA
INNER JOIN FILM ON FILM_PRODEJNA.FILM_ID_FILM = FILM.ID_FILM
LEFT JOIN FILM_PRODUKCE ON FILM_PRODUKCE.FILM_ID_FILM = FILM.ID_FILM
LEFT JOIN PRODUKCE ON PRODUKCE.ID_PRODUKCE = FILM_PRODUKCE.ID_FILM_PRODUKCE
LEFT JOIN ZASTOUPENI ON ZASTOUPENI.ID_ZASTOUPENI = PRODUKCE.ID_PRODUKCE
LEFT JOIN OSOBA ON ZASTOUPENI.OSOBA_ID_OSOBA = OSOBA.ID_OSOBA ) FILM
GROUP BY FILM.NAZEV, 
   FILM.VYDANI, 
   FILM.DELKA, 
   FILM.CENA
